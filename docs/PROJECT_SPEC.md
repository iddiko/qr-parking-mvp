# QR Parking MVP 상세 설명서

## 1) 프로그램 개요
- 목적: 초대 기반으로 입주민/경비/관리자 계정을 관리하고 QR 스캔으로 입주 여부 확인 및 알림을 제공하는 주차 관리 MVP.
- 핵심 흐름:
  - 관리자가 초대 발송 → 초대 링크 가입 → 승인 → QR 활성화
  - 경비/입주민이 QR 스캔 → 결과 표시(입주민/단속대상) → 스캔 로그 및 알림 기록
  - 역할별 메뉴 토글로 접근 범위 제어

## 2) 프로그램 성격과 구조
- 구조: Next.js(App Router) 기반의 역할별 대시보드 + 공용 레이아웃.
- 레이아웃 규칙: Header / Body(좌 Sidebar, 중앙 Content, 우 RightPanel) / Footer.
- 모바일: Header/Footer 고정, Sidebar는 하단 버튼(햄버거)으로 열리는 오버레이(바텀 시트) 형태.
- 권한 모델: SUPER / MAIN / SUB / GUARD / RESIDENT.

## 3) 왜 이 프로그램을 만들었는가
- 차단기 없는 아파트에서 QR을 통해 입주민 여부를 빠르게 확인하고,
  스캔 즉시 알림을 보내어 보안/운영 효율을 높이기 위한 MVP.
- 초대 기반 회원가입, 메뉴 토글, 공지/검침 등 관리 기능을 한 곳에서 제공하기 위함.

## 4) 화면 구성(공통)
### 4.1 Header
- 고정 위치: 화면 최상단에 고정.
- 구성 요소:
  - 로고 영역: 등록된 로고 이미지가 있으면 표시, 없으면 "QR" 텍스트 표시.
  - 프로젝트명: "QR Parking MVP".
  - 단지명 표시: SUPER는 선택된 단지명 표시, 그 외는 본인 단지명 표시.
  - 수정 모드 토글: SUPER만 표시.
  - 마이페이지 버튼: 팝업으로 내 정보/알림/로그아웃 표시.

### 4.2 Body
- 그리드 레이아웃: 좌측 Sidebar / 중앙 Content / 우측 RightPanel.
- 중앙 Content에 페이지별 핵심 화면.
- RightPanel은 페이지별 요약/입력 패널로 사용.

### 4.3 Footer
- 고정 위치: 화면 최하단에 고정.
- 모바일에서 햄버거(메뉴) 버튼 표시.
- 브랜드 텍스트: 빨간색 계열 강조.

## 5) 디자인 시스템
### 5.1 컬러 토큰
- 배경: `--bg #f4f7fb`
- 표면: `--surface #ffffff`
- 기본 텍스트: `--text #0f172a`
- 보조 텍스트: `--muted #64748b`
- 테두리: `--border #dbe4f0`
- Primary: `--primary #1d4ed8` (기본 버튼)
- Hover: `--primary-hover #1e40af`
- 위험: `--danger #dc2626`
- 성공: `--success #16a34a`
- 경고: `--warning #f59e0b`
- 정보: `--info #0ea5e9`

### 5.2 버튼 스타일
- 기본 버튼: 파란색 Primary, 둥근 모서리(10px), hover 시 그림자.
- 로그인 버튼: 그라데이션(Primary → Info).
- 아이콘 버튼: 테두리 1px, 둥근 모서리(10px), 기본 흰색 배경.

### 5.3 카드/패널 스타일
- 카드 배경: 흰색, 테두리 1px, 라운드(12px ~ 16px).
- RightPanel 기본 카드: 내부 입력을 포함한 패널형 카드.

## 6) 랜딩 페이지
### 6.1 / (public landing)
- 화면 전체에 아침 햇살/입자 애니메이션 캔버스.
- 중앙 카드:
  - 타이틀: "QR Parking MVP"
  - 설명 텍스트(간단 소개)
  - CTA 버튼: 로그인 페이지 이동

### 6.2 로그인 진입 전 랜딩(로그인 로딩)
- 로그인 페이지 로딩 시 약 1.2초 간 전환 랜딩.
- 배경: 부드러운 파스텔톤, 동그란 오브젝트.
- 텍스트: 로그인 준비 중 안내.

## 7) 로그인 화면
- 중앙 카드(약 400x500 감각):
  - 타이틀: "로그인"
  - 로고 이미지(설정된 로고 표시)
  - 안내 문구
  - 이메일 입력
  - 비밀번호 입력 + 눈 아이콘
  - 로그인 버튼
- 역할별 라우팅:
  - SUPER → `/dashboard/super`
  - MAIN → `/dashboard/main`
  - SUB → `/dashboard/sub`
  - GUARD → `/scan`
  - RESIDENT → `/my-qr`

## 8) 관리자(ADMIN) 영역
### 8.1 대시보드
- 카드 통계, 스캔 추이, 역할 분포 등 요약형 UI.
- 단지/동 필터 적용.

### 8.2 단지 관리(/complexes)
- 단지 생성/관리.
- SUPER 기준 전체 단지 관리.

### 8.3 동 관리(/buildings)
- 단지 내 동 생성/관리.
- 동 관리자 초대/임명.

### 8.4 회원관리(/members)
- 전체 계정 목록.
- 필터: 단지/동/역할, SUPER는 전체 보기.
- 행 클릭 시 상세 팝업:
  - 기본 정보(레벨/이메일/전화/단지/동/호수)
  - QR 정보(유무/발행수/발행일/D-day/상태/QR 이미지)
- 수정/삭제 버튼 제공(권한/승인 상태 제한).

### 8.5 사용자 초대(/users)
- 개별 초대/일괄 초대.
- CSV 업로드 미리보기와 발송 기능.

### 8.6 승인(/approvals)
- 초대 승인 후 QR 활성화.

### 8.7 주차 QR(/parking/qrs)
- 필터: 동.
- 목록 필드: 입주민 이메일, 전화(대표), 동, 호수, 차종, 차량번호, QR 상태, QR 보유수, 발행일, D-day.

### 8.8 경비 스캔 리스트(/parking/scans)
- 스캔 로그 리스트.
- 시간/위치/결과/차량번호 기준 표시.

### 8.9 검침 주기(/meter/cycles)
- RightPanel에서 검침 주기 등록(제목/시작/종료).
- 목록에서 주기 확인.

### 8.10 검침 제출(/meter/submissions)
- 입주민 제출내역 확인.

### 8.11 공지(/admin/notices)
- 공지 작성 + 리스트.
- 작성자, 제목, 시간 표시.

### 8.12 설정(/settings)
- 메뉴 토글 ON/OFF.
- 메뉴 순서/라벨 편집(SUPER 전용).

## 9) 경비(GUARD) 영역
### 9.1 QR 스캔(/scan)
- 카메라 스캔 시작 버튼.
- 결과: 입주민/단속대상 표시.
- 차량번호 표시.
- 알림 보내기/전화/메시지 버튼.

### 9.2 스캔 이력(/history)
- 시간/위치 표시, 세부는 팝업.

### 9.3 공지/알림
- 관리자 공지 열람.
- 알림 리스트.

## 10) 입주민(RESIDENT) 영역
### 10.1 내 QR(/my-qr)
- QR 이미지 + 상태 배지 + 차량번호.

### 10.2 알림(/alerts)
- 스캔 알림 전용.

### 10.3 알림 내역(/resident/notifications)
- 전체 알림 기록.

### 10.4 검침(/meter)
- 검침 값 입력 + 사진 제출.

## 11) QR 공개 스캔 화면
- URL: `/q/[code]`
- 일반 휴대폰 카메라로 QR 스캔 시 접근되는 화면.
- 표시 내용:
  - 입주민/단속 결과 배지
  - 차량번호
  - 알림/전화/메시지 버튼(벡터 아이콘)
  - 홀로그램 스타일 QR 시각 효과

## 12) 데이터 및 권한 흐름
- SUPER: 전체 조회/수정 가능. Edit Mode ON에서만 수정 가능.
- MAIN: 단지 전체 관리.
- SUB: 동 범위 관리.
- GUARD: 스캔/이력/공지 확인.
- RESIDENT: QR/알림/검침.

## 13) 버튼/아이콘 색 구성
- Primary 버튼: 파란색 (#1d4ed8)
- 경고/위험 배지: 빨간색 (#dc2626)
- 성공 배지: 초록색 (#16a34a)
- 메뉴 아이콘: 빨간색 계열

## 14) 전체 구조 요약
- AppFrame → Header + BodyGrid(Sidebar/Content/RightPanel) + Footer
- 모바일: Sidebar는 하단 버튼으로 열리는 팝업
- 각 Role 별 메뉴/페이지 분리

---
이 문서는 현재 코드 구조를 기준으로 작성되었으며,
이 내용만으로 유사한 사이트를 설계/구현할 수 있도록 화면/기능/구조를 상세히 정리함.
